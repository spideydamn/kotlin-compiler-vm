func mergeSort(arr: int[]): int[] {
    if (arr.length <= 1) {
        return arr;
    }
    
    let mid: int = arr.length / 2;
    let left: int[] = arr.slice(0, mid);
    let right: int[] = arr.slice(mid, arr.length);
    
    return merge(mergeSort(left), mergeSort(right));
}

func merge(left: int[], right: int[]): int[] {
    let result: int[] = [];
    let i: int = 0;
    let j: int = 0;
    
    for (; i < left.length && j < right.length;) {
        if (left[i] <= right[j]) {
            result.append(left[i]);
            i = i + 1;
        } else {
            result.append(right[j]);
            j = j + 1;
        }
    }
    
    for (; i < left.length;) {
        result.append(left[i]);
        i = i + 1;
    }
    
    for (; j < right.length;) {
        result.append(right[j]);
        j = j + 1;
    }
    
    return result;
}
